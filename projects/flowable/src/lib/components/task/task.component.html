<!-- Task Header -->

<ng-container *ngIf="task" class="task-header">

  <div class="task-header-content">
    <h2> {{ task.name }} </h2>
  </div>

</ng-container>

<!-- Action Bar -->

<mat-toolbar class="crm-action-bar">

  <mat-toolbar-row class="crm-action-bar-row">

    <div fxFlex fxLayout fxLayoutAlign="flex-end">

      <ng-container *ngIf="canClaim()">
        <button mat-raised-button color="primary" class="crm-action-bar-button"
            (click)="onClaim()">
          {{ 'CLAIM_ACTION_BAR_BUTTON' | translate }}
        </button>
      </ng-container>

      <button mat-raised-button color="accent" class="crm-action-bar-button" [disabled]="!isValid()"
          (click)="onComplete()">
        {{ 'COMPLETE_ACTION_BAR_BUTTON' | translate }}
      </button>

    </div>

  </mat-toolbar-row>

</mat-toolbar>

<!-- Task Content -->

<ng-container>

  <mat-tab-group (selectedTabChange)="onTabChanged($event)">

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="task-tab-icon"> assignment </mat-icon>
        {{ 'TASK_TAB' | translate }}
      </ng-template>

      <ng-container *ngIf="taskFormGroup">
        <div class="task-tab-content">

          <dynamic-form autocomplete="off"
                        [className]="'crm-nested-grid-container'"
                        [formGroup]="taskFormGroup"
                        [model]="taskModel">
          </dynamic-form>

        </div>
      </ng-container>

    </mat-tab>

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="task-tab-icon"> person_outline </mat-icon>
        {{ 'PEOPLE_TAB' | translate }}
      </ng-template>

    </mat-tab>

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="task-tab-icon"> list </mat-icon>
        {{ 'SUBTASKS_TAB' | translate }}
      </ng-template>

    </mat-tab>

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="task-tab-icon"> description </mat-icon>
        {{ 'DOCUMENTS_TAB' | translate }}
      </ng-template>

    </mat-tab>

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="task-tab-icon"> history </mat-icon>
        {{ 'HISTORY_TAB' | translate }}
      </ng-template>

    </mat-tab>

  </mat-tab-group>

</ng-container>

<!--

https://stackoverflow.com/questions/58874891/how-to-hide-a-material-button

<ng-container *ngIf="task" class="task-header">

  <div class="task-header-content">

    <h2> {{ task.name }} </h2>
    <button mat-raised-button color="accent" [disabled]="!isValid()" (click)="onComplete()"> {{ completeButton }} </button>

  </div>

</ng-container>

-->

<!-- <ng-container class="task-content"> -->
